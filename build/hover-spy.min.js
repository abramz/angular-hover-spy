/*! 
 * angular-hover-spy v0.0.0
 * 
 * Copyright (c) 2013 Andrew Shapro (abramz)
 * License: MIT
 */
angular.module("abramz.hoverSpy",[]).constant("MOUSEENTER_EVENT","hover-spy-mouseenter").constant("MOUSELEAVE_EVENT","hover-spy-mouseleave").directive("hoverSpy",["$q","MOUSEENTER_EVENT","MOUSELEAVE_EVENT",function(a,b,c){"use strict";var d=function(a,b){var c=":";return b&&b.length>0?b+c+a:a};return{restrict:"A",scope:!0,controllerAs:"AbramzHoverSpyCtrl",controller:["$log","$q","$rootScope","$scope",function(a,e,f,g){var h=!1,i=!1;this.NAMESPACE=g.namespace&&g.namespace.length>0&&"undefined"!==g.namespace?g.namespace:"",this.initialize=function(b){h?a.warn("Caller tried to set namespace after it was already set."):(h=!0,k.call(this,b)),i?a.warn("Caller tried to set event listeners after they were already set."):(i=!0,j.call(this))};var j=function(){f.$on(d(b,this.NAMESPACE),function(){g.handleMouseEnter()}),f.$on(d(c,this.NAMESPACE),function(){g.handleMouseLeave()})},k=function(a){a&&a.length>0&&"undefined"!==a&&(this.NAMESPACE=a)}}],link:function(a,e,f,g){var h=function(){return f.hoverSpyToggle&&f.hoverSpyToggle.length>0&&"undefined"!==f.hoverSpyToggle&&f.hoverSpyOn&&f.hoverSpyOn.length>0&&"undefined"!==f.hoverSpyOn&&f.hoverSpyOff&&f.hoverSpyOff.length>0&&"undefined"!==f.hoverSpyOff?"kitchensink":f.hoverSpyToggle&&f.hoverSpyToggle.length>0&&"undefined"!==f.hoverSpyToggle?"toggle":f.hoverSpyOn&&f.hoverSpyOn.length>0&&"undefined"!==f.hoverSpyOn&&f.hoverSpyOff&&f.hoverSpyOff.length>0&&"undefined"!==f.hoverSpyOff?"onoff":"passive"},i=function(a){var b=f.hoverSpyToggle;"!"===b.substring(0,1)?"on"===a?e.removeClass(b.substring(1)):e.addClass(b.substring(1)):"on"===a?e.addClass(b):e.removeClass(b)},j=function(a){var b=f.hoverSpyOn,c=f.hoverSpyOff;"on"===a?(e.addClass(b),e.removeClass(c)):(e.removeClass(b),e.addClass(c))},k=function(a){"toggle"===a?i("off"):"onoff"===a?j("off"):"kitchensink"===a&&(i("off"),j("off"))},l=h();k(l),g.initialize(f.hoverSpy),e.on("mouseenter",function(){a.$apply(function(){"passive"!==l&&a.$emit(d(b,g.NAMESPACE))})}),e.on("mouseleave",function(){a.$apply(function(){"passive"!==l&&a.$emit(d(c,g.NAMESPACE))})}),a.handleMouseEnter=function(){switch(l){case"toggle":i("on");break;case"onoff":j("on");break;case"kitchensink":i("on"),j("on")}},a.handleMouseLeave=function(){switch(l){case"toggle":i("off");break;case"onoff":j("off");break;case"kitchensink":i("off"),j("off")}}}}}]);