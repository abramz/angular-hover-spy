/*! 
 * angular-hover-spy v0.1.0
 * 
 * Copyright (c) 2013 Andrew Shapro (abramz)
 * License: MIT
 */
angular.module("abramz.hoverSpy",[]).constant("MOUSEENTER_EVENT","hover-spy-mouseenter").constant("MOUSEENTER_HANDLED_EVENT","hover-spy-mouseenter-handled").constant("MOUSELEAVE_EVENT","hover-spy-mouseleave").constant("MOUSELEAVE_HANDLED_EVENT","hover-spy-mouseleave-handled").directive("hoverSpy",["MOUSEENTER_EVENT","MOUSEENTER_HANDLED_EVENT","MOUSELEAVE_EVENT","MOUSELEAVE_HANDLED_EVENT",function(a,b,c,d){"use strict";var e=function(a,b){var c=":";return b&&b.length>0?"abramz."+b+c+a:a};return{restrict:"A",scope:!0,controllerAs:"AbramzHoverSpyCtrl",controller:["$log","$rootScope","$scope",function(b,d,f){var g=!1,h=!1;this.NAMESPACE=f.namespace&&f.namespace.length>0&&"undefined"!==f.namespace?f.namespace:"",this.initialize=function(a){g?b.warn("Caller tried to set namespace after it was already set."):(g=!0,j.call(this,a)),h?b.warn("Caller tried to set event listeners after they were already set."):(h=!0,i.call(this))};var i=function(){d.$on(e(a,this.NAMESPACE),function(){f.handleMouseEnter()}),d.$on(e(c,this.NAMESPACE),function(){f.handleMouseLeave()})},j=function(a){a&&a.length>0&&"undefined"!==a&&(this.NAMESPACE=a)}}],link:function(f,g,h,i){var j=function(){return h.hoverSpyToggle&&h.hoverSpyToggle.length>0&&"undefined"!==h.hoverSpyToggle&&h.hoverSpyOn&&h.hoverSpyOn.length>0&&"undefined"!==h.hoverSpyOn&&h.hoverSpyOff&&h.hoverSpyOff.length>0&&"undefined"!==h.hoverSpyOff?"kitchensink":h.hoverSpyToggle&&h.hoverSpyToggle.length>0&&"undefined"!==h.hoverSpyToggle?"toggle":h.hoverSpyOn&&h.hoverSpyOn.length>0&&"undefined"!==h.hoverSpyOn&&h.hoverSpyOff&&h.hoverSpyOff.length>0&&"undefined"!==h.hoverSpyOff?"onoff":"passive"},k=function(a){var b=h.hoverSpyToggle;"!"===b.substring(0,1)?"on"===a?g.removeClass(b.substring(1)):g.addClass(b.substring(1)):"on"===a?g.addClass(b):g.removeClass(b)},l=function(a){var b=h.hoverSpyOn,c=h.hoverSpyOff;"on"===a?(g.addClass(b),g.removeClass(c)):(g.removeClass(b),g.addClass(c))},m=function(a){"toggle"===a?k("off"):"onoff"===a?l("off"):"kitchensink"===a&&(k("off"),l("off"))},n=j();m(n),i.initialize(h.hoverSpy),g.on("mouseenter",function(){f.$apply(function(){f.$emit(e(a,i.NAMESPACE))})}),g.on("mouseleave",function(){f.$apply(function(){f.$emit(e(c,i.NAMESPACE))})}),f.handleMouseEnter=function(){switch(n){case"toggle":k("on");break;case"onoff":l("on");break;case"kitchensink":k("on"),l("on")}f.$emit(e(b,i.NAMESPACE))},f.handleMouseLeave=function(){switch(n){case"toggle":k("off");break;case"onoff":l("off");break;case"kitchensink":k("off"),l("off")}f.$emit(e(d,i.NAMESPACE))}}}}]);